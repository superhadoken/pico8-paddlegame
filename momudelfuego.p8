pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
-- paddle
padx = 52
pady = 122
padw = 24
padh = 4

-- ball
ballx = 64
bally = 64
ballsize = 3
ballxdir = 5
ballydir = -3

-- scoring
score = 0

-- lives
lives = 3

--bounce the ball off the paddle
function bouncepaddle()
 if ballx>=padx and
  ballx<=padx+padw and
  bally>pady then
  sfx(1)
  score += 10 -- increase the score on hit!
  ballydir=-ballydir
 end
end

function moveball()
 ballx+=ballxdir
 bally+=ballydir
end

function losedeadball()
 if bally>128 then
  if lives>0 then -- do we still have lives left
   sfx(2)
   bally=24
   lives-=1 -- lose a life
  else -- game over
   ballydir=0
   ballxdir=0
   bally=64
   score=0 -- reset our score
   sfx(3)
  end 
 end
end

function movepaddle()
 if btn (0) then
 	padx-=3
 elseif btn(1) then
  padx+=3
 end
end

function bounceball()
 --left
 if ballx<ballsize then
  ballxdir=-ballxdir
  sfx(0)
 end
 
 --right
 if ballx>128-ballsize then
  ballxdir=-ballxdir
  sfx(0)
 end
 
 --top
 if bally<ballsize then
  ballydir=-ballydir
  sfx(0)
 end
end

--
-- the update â™¥
--
function _update()
 movepaddle()
 bounceball()
 bouncepaddle()
 moveball()
 losedeadball()
end

--
-- the draw 
--
function _draw()
 --clear the screen
 rectfill(0,0,128,128,3)

 -- draw the lives
 for i=1, lives do
  spr(001,90+i*8,4)
 end
 
-- draw the score
print(score,12,6,15)

 --draw the paddle
 rectfill(padx,pady,padx+padw,pady+padh,15)
 
 --draw the ball
 circfill(ballx, bally, ballsize, 15)
end
__gfx__
00000000008000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000288028e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000288888e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000288888e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000288888e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700002888e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000028e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
00040000370303f0702c04026000220001c0001900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000600002b05034070370400a000020002f00025000200001d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000800003e050340502105019050100500e0500b00009000070000600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000700001802022060270602e06034030330202402017040140501d020250502e0602306016040110300d0400a050090500803007020030200104001050010500105002050030500105000000000000000000000
